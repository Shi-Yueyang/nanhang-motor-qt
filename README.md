# 南航超声电机的qt上位机程序
## quick start
1. 编辑motorinfo.json文件
2. 点击Autoconnect
3. 输入某个电机的转速以及位置
4. 点击run

## 通讯协议
|  | B0 | B1 | B2 | B3 | B4 | B5 | B6 | B7 |  |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|  | 机号 | 模式 |  |  |  |  | 开环速度 | 停止位 |  |
| $\mathrm{CW}$ 连续 | 41 | 55 | 00 | 00 | 00 | 00 | $\mathrm{~A} 0$ | $O A$ |  |
| CCW 连续 | 41 | 44 | 00 | 00 | 00 | 00 | A0 | $0 \mathrm{~A}$ |  |
| CW 脉冲 | 41 | 56 | 00 | 00 | 00 | 00 | $\mathrm{~A} 0$ | $O A$ |  |
| CCW 脉冲 | 41 | 46 | 00 | 00 | 00 | 00 | $\mathrm{~A} 0$ | $O A$ |  |
| 停止 | 41 | 53 | 00 | 00 | 00 | 00 | 00 | $O A$ |  |
| 查询指令 | 41 | 51 | 00 | 00 | 00 | 00 | 00 | $O A$ |  |
| 设置当前位 <br> 置为零点 | 41 | 52 | 00 | 00 | 00 | 00 | 00 | $O A$ | 起始零位圈数: <br> 8000 (16 进制) <br> 起始单圈零位 <br> 0000 (10 进制) |
|  |  |  | 目标圈数 |  | 目标单圈位置 |  |  |  |  |
|  |  |  | 0000 FFFF <br> $(16$ 进制 $)$ |  | 0000 3999 <br> $(10$ 进制) |  |  |  |  |
| 位置闭环连 <br> 续 | 41 | 02 | $x x$ | $x x$ | $x X$ | $x x$ | $\mathrm{~A} 0$ | $0 \mathrm{~A}$ |  |
| 位置闭环脉 <br> 冲 | 41 | 03 | $x X$ | $x X$ | $x X$ | $x X$ | $\mathrm{~A} 0$ | $0 \mathrm{~A}$ |  |
|  |  |  | 当前圈数 |  | 当前单圈位置 |  |  |  |  |
|  |  |  | $0000 \sim F F F F$ <br> $(16$ 进制 $)$ |  | $0000 \sim 3999$ <br> $(10$ 进制) |  |  |  |  |
| 返回数据 | 41 | 54 | 00 | 00 | 00 | 00 | 00 | $O A$ |  |
